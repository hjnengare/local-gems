(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[130],{410:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>w});var r=a(5155),i=a(2619),s=a.n(i),n=a(2115),o=a(913),l=a(7909),c=a(5239),d=a(63);let u=[{id:"biz-1",name:"The Rustic Table",description:"Farm-to-table dining with locally sourced ingredients and cozy atmosphere",category:"food",subcategory:"restaurants",address:"123 Main St, Downtown",phone:"(555) 123-4567",website:"https://rustictable.com",image_url:"https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?w=400&h=300&fit=crop",latitude:40.7128,longitude:-74.006,stats:{average_rating:4.5,total_reviews:127,total_views:2450},created_at:"2024-01-15T10:30:00Z"},{id:"biz-2",name:"Brew & Bean Coffee",description:"Artisanal coffee roastery with fresh pastries and free WiFi",category:"food",subcategory:"cafes",address:"456 Oak Ave, Coffee District",phone:"(555) 234-5678",website:"https://brewandbean.com",image_url:"https://images.unsplash.com/photo-1501339847302-ac426a4a7cbb?w=400&h=300&fit=crop",latitude:40.7589,longitude:-73.9851,stats:{average_rating:4.2,total_reviews:89,total_views:1820},created_at:"2024-02-01T14:15:00Z"},{id:"biz-3",name:"Galaxy Cinema",description:"Modern movie theater with IMAX screens and luxury seating",category:"entertainment",subcategory:"movies",address:"789 Entertainment Blvd, Theater Row",phone:"(555) 345-6789",website:"https://galaxycinema.com",image_url:"https://images.unsplash.com/photo-1489185078527-2bbc19e90e5f?w=400&h=300&fit=crop",latitude:40.7505,longitude:-73.9934,stats:{average_rating:4,total_reviews:203,total_views:3200},created_at:"2024-01-20T09:45:00Z"},{id:"biz-4",name:"FitLife Gym",description:"24/7 fitness center with modern equipment and personal training",category:"health",subcategory:"gyms",address:"321 Fitness Way, Health District",phone:"(555) 456-7890",website:"https://fitlifegym.com",image_url:"https://images.unsplash.com/photo-1534438327276-14e5300c3a48?w=400&h=300&fit=crop",latitude:40.7282,longitude:-73.9942,stats:{average_rating:4.3,total_reviews:156,total_views:2100},created_at:"2024-01-10T16:20:00Z"},{id:"biz-5",name:"Style Studio Salon",description:"Full-service hair and beauty salon with experienced stylists",category:"beauty",subcategory:"salons",address:"654 Beauty Lane, Style Quarter",phone:"(555) 567-8901",website:"https://stylestudio.com",image_url:"https://images.unsplash.com/photo-1560066984-138dadb4c035?w=400&h=300&fit=crop",latitude:40.7614,longitude:-73.9776,stats:{average_rating:4.7,total_reviews:92,total_views:1650},created_at:"2024-02-05T11:30:00Z"},{id:"biz-6",name:"Tech Repair Pro",description:"Professional electronics repair service for phones, laptops, and tablets",category:"services",subcategory:"electronics",address:"987 Tech Street, Digital Downtown",phone:"(555) 678-9012",website:"https://techrepairpro.com",image_url:"https://images.unsplash.com/photo-1581092160562-40aa08e78837?w=400&h=300&fit=crop",latitude:40.7357,longitude:-74.0012,stats:{average_rating:4.1,total_reviews:78,total_views:1350},created_at:"2024-01-25T13:45:00Z"}],m=e=>u.find(t=>t.id===e),h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300;return new Promise(t=>setTimeout(t,e))};var f=a(9176),x=a(4027);let g=(0,l.default)(()=>a.e(275).then(a.bind(a,7275)),{loadableGenerated:{webpack:()=>[7275]},ssr:!1}),p=(0,l.default)(()=>a.e(104).then(a.bind(a,9104)),{loadableGenerated:{webpack:()=>[9104]},ssr:!1}),b=(0,l.default)(()=>a.e(866).then(a.bind(a,8866)),{loadableGenerated:{webpack:()=>[8866]}}),y=(0,l.default)(()=>Promise.all([a.e(96),a.e(655)]).then(a.bind(a,3655)),{loadableGenerated:{webpack:()=>[3655]},ssr:!1});function w(){var e,t;let a=(0,d.useRouter)(),i=(0,d.useParams)(),{user:l,loading:u}=(0,f.A)(),{business:w,loading:v}=function(e,t){let[a,r]=(0,n.useState)(null),[i,s]=(0,n.useState)(!0),[o,l]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let a=!0;return(async()=>{if(!e&&!t)return s(!1);try{s(!0),l(null),await h();let i=null;e?i=m(e)||null:t&&(i=null),a&&r(i)}catch(e){a&&(l(e instanceof Error?e.message:"Failed to fetch business"),console.error("Error fetching business:",e))}finally{a&&s(!1)}})(),()=>{a=!1}},[e,t]),{business:a,loading:i,error:o,refetch:async()=>{if(e||t)try{s(!0),l(null),await h();let a=null;e?a=m(e)||null:t&&(a=null),r(a)}catch(e){l(e instanceof Error?e.message:"Failed to fetch business"),console.error("Error refetching business:",e)}finally{s(!1)}}}}(void 0,i.id),{submitting:j,submitReview:N}=function(){let[e,t]=(0,n.useState)(!1),[a,r]=(0,n.useState)(null),{user:i}=(0,f.A)(),{showToast:s}=(0,x.d)();return{submitting:e,error:a,submitReview:async e=>{if(!i)return r("You must be logged in to submit a review"),s("Please log in to submit a review","error"),!1;try{return t(!0),r(null),await h(800),s("Review submitted successfully!","success"),!0}catch(t){let e=t instanceof Error?t.message:"Failed to submit review";return r(e),s(e,"error"),console.error("Error submitting review:",t),!1}finally{t(!1)}},deleteReview:async e=>{if(!i)return r("You must be logged in to delete a review"),s("Please log in to delete a review","error"),!1;try{return t(!0),r(null),await h(500),s("Review deleted successfully","success"),!0}catch(t){let e=t instanceof Error?t.message:"Failed to delete review";return r(e),s(e,"error"),console.error("Error deleting review:",t),!1}finally{t(!1)}},likeReview:async e=>{if(!i)return s("Please log in to like reviews","info"),null;try{await h(200);let e=Math.random()>.5;return s(e?"Review liked!":"Like removed","success"),e}catch(e){return s(e instanceof Error?e.message:"Failed to like review","error"),console.error("Error liking review:",e),null}}}}(),[S,P]=(0,n.useState)(0),[_,k]=(0,n.useState)([]),[T,Y]=(0,n.useState)(""),[z,C]=(0,n.useState)(""),[E,F]=(0,n.useState)([]);if((0,n.useEffect)(()=>{u||l||a.push("/login?redirect="+encodeURIComponent(window.location.pathname))},[l,u,a]),u||v)return(0,r.jsx)("div",{className:"min-h-dvh bg-gradient-to-br from-off-white via-off-white/98 to-off-white/95 flex items-center justify-center",children:(0,r.jsx)(o.PY1.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-8 h-8 border-2 border-sage border-t-transparent rounded-full"})});if(!w)return(0,r.jsx)("div",{className:"min-h-dvh bg-gradient-to-br from-off-white via-off-white/98 to-off-white/95 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"font-urbanist text-2xl font-600 text-charcoal mb-4",children:"Business not found"}),(0,r.jsx)(s(),{href:"/home",className:"text-sage hover:text-sage/80 font-urbanist font-500",children:"â† Back to Home"})]})});let R=w.name,D=async()=>{w&&l&&await N({business_id:w.id,rating:S,title:z.trim()||void 0,content:T.trim(),tags:_,images:E.length>0?E:void 0})&&a.push("/business/".concat(i.id))},I=S>0&&T.trim().length>0;return(0,r.jsxs)("div",{className:"min-h-dvh bg-gradient-to-br from-off-white via-off-white/98 to-off-white/95 relative overflow-hidden",children:[(0,r.jsxs)("div",{className:"absolute inset-0 opacity-20",children:[(0,r.jsx)(o.PY1.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:2,repeat:1/0,repeatType:"reverse"},className:"absolute top-20 left-10 w-32 h-32 bg-gradient-to-br from-sage/30 to-sage/10 rounded-full blur-3xl"}),(0,r.jsx)(o.PY1.div,{initial:{opacity:0,scale:1.2},animate:{opacity:1,scale:.8},transition:{duration:3,delay:1,repeat:1/0,repeatType:"reverse"},className:"absolute bottom-32 right-16 w-40 h-40 bg-gradient-to-br from-coral/20 to-coral/5 rounded-full blur-3xl"})]}),(0,r.jsx)(o.PY1.header,{initial:{y:-80,opacity:0},animate:{y:0,opacity:1},transition:{duration:.8,ease:[.25,.46,.45,.94]},className:"relative z-10 bg-gradient-to-br from-off-white via-off-white/98 to-off-white/95 backdrop-blur-xl border-b border-sage/10 px-4 py-6 shadow-sm",children:(0,r.jsxs)("div",{className:"flex items-center justify-between max-w-4xl mx-auto",children:[(0,r.jsx)(o.PY1.div,{whileHover:{scale:1.1},whileTap:{scale:.95},children:(0,r.jsx)(s(),{href:"/business/".concat(i.id),className:"text-charcoal/60 hover:text-charcoal transition-colors duration-300 p-2 hover:bg-charcoal/5 rounded-full",children:(0,r.jsx)("ion-icon",{name:"arrow-back-outline",size:"small"})})}),(0,r.jsx)(o.PY1.h1,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3,duration:.6},className:"font-urbanist text-2xl md:text-4xl font-700 text-transparent bg-clip-text bg-gradient-to-r from-charcoal via-sage to-charcoal",children:"Write a Review"}),(0,r.jsx)("div",{className:"w-10"})]})}),(0,r.jsx)("div",{className:"w-full md:w-3/4 mx-auto px-4 md:px-4 py-6 pb-24 md:pb-6 relative z-10",children:(0,r.jsx)(g,{delay:.2,children:(0,r.jsx)(p,{scale:1.02,shadowIntensity:"medium",duration:.4,children:(0,r.jsxs)("div",{className:"bg-off-white/90 backdrop-blur-lg rounded-none md:rounded-3xl shadow-xl border-0 md:border border-sage/10 p-4 md:p-8 mb-0 md:mb-8 relative overflow-hidden min-h-[calc(100vh-200px)] md:min-h-0 flex flex-col",children:[(0,r.jsx)("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-sage/10 to-transparent rounded-full blur-2xl"}),(0,r.jsx)("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-coral/10 to-transparent rounded-full blur-2xl"}),(0,r.jsxs)("div",{className:"relative z-10 flex-1 flex flex-col",children:[(0,r.jsx)(o.PY1.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2,duration:.6},className:"flex justify-center mb-4 md:mb-6",children:(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsxs)("div",{className:"w-20 h-20 md:w-24 md:h-24 rounded-2xl overflow-hidden ring-4 ring-sage/20 group-hover:ring-sage/40 transition-all duration-500",children:[w.image_url?(0,r.jsx)(c.default,{src:w.image_url,alt:"".concat(R," photo"),width:96,height:96,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",priority:!0}):(0,r.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-sage/20 to-sage/10 flex items-center justify-center",children:(0,r.jsx)("ion-icon",{name:"business",style:{fontSize:"32px",color:"var(--sage)"}})}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 transform -skew-x-12 group-hover:translate-x-full"})]}),(0,r.jsx)(o.PY1.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.5,duration:.4},className:"absolute -bottom-2 -right-2 bg-gradient-to-br from-amber-400 to-amber-600 rounded-full p-2 shadow-lg",children:(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,r.jsx)("ion-icon",{name:"star",style:{color:"white",fontSize:"12px"}}),(0,r.jsx)("span",{className:"font-urbanist text-xs font-700 text-white",children:(null==(t=w.stats)||null==(e=t.average_rating)?void 0:e.toFixed(1))||"0.0"})]})})]})}),(0,r.jsxs)(o.PY1.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"font-urbanist text-2xl md:text-5xl font-700 text-transparent bg-clip-text bg-gradient-to-r from-charcoal via-sage to-charcoal mb-6 md:mb-8 text-center",children:["Write a Review for ",R]}),(0,r.jsxs)(o.PY1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"mb-8",children:[(0,r.jsxs)("h3",{className:"font-urbanist text-lg md:text-3xl font-600 text-charcoal mb-3 md:mb-4 flex items-center justify-center md:justify-start",children:[(0,r.jsx)(o.PY1.div,{animate:{rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,repeatDelay:4},className:"w-6 h-6 bg-gradient-to-br from-coral/20 to-coral/10 rounded-full flex items-center justify-center mr-3",children:(0,r.jsx)("ion-icon",{name:"star",style:{color:"var(--coral)",fontSize:"16px"}})}),"Overall rating"]}),(0,r.jsx)("div",{className:"flex items-center justify-center space-x-1 md:space-x-2 mb-2",children:[1,2,3,4,5].map(e=>(0,r.jsx)(o.PY1.button,{onClick:()=>{P(e)},whileHover:{scale:1.2},whileTap:{scale:.9},className:"p-1 md:p-2 focus:outline-none transition-all duration-300 rounded-full hover:bg-sage/10",children:(0,r.jsx)("ion-icon",{name:e<=S?"star":"star-outline",style:{color:e<=S?"var(--sage)":"#9ca3af",fontSize:"2rem"}})},e))}),(0,r.jsx)("p",{className:"text-center font-urbanist text-[14px] font-400 text-charcoal/60",children:"Tap to select rating"})]}),(0,r.jsxs)(o.PY1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"mb-8",children:[(0,r.jsxs)("h3",{className:"font-urbanist text-lg md:text-3xl font-600 text-charcoal mb-3 md:mb-4 flex items-center justify-center md:justify-start",children:[(0,r.jsx)(o.PY1.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,repeatDelay:3},className:"w-6 h-6 bg-gradient-to-br from-sage/20 to-sage/10 rounded-full flex items-center justify-center mr-3",children:(0,r.jsx)("ion-icon",{name:"pricetags-outline",style:{color:"var(--sage)",fontSize:"16px"}})}),"Choose up to 4 quick tags"]}),(0,r.jsx)("div",{className:"flex flex-wrap justify-center gap-2 md:gap-3",children:["Trustworthy","On Time","Friendly","Good Value"].map((e,t)=>(0,r.jsx)(o.PY1.button,{onClick:()=>{k(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.6+.1*t,duration:.3},whileHover:{scale:1.05},whileTap:{scale:.95},className:"\n                          px-4 md:px-6 py-2 md:py-3 rounded-full border-2 transition-all duration-300 font-urbanist text-[14px] font-600\n                          ".concat(_.includes(e)?"bg-sage border-sage text-white shadow-lg":"bg-white/80 backdrop-blur-sm border-sage/20 text-charcoal hover:border-sage hover:bg-sage/10","\n                          focus:outline-none focus:ring-2 focus:ring-sage/50 focus:ring-offset-2\n                        "),children:e},e))})]}),(0,r.jsxs)(o.PY1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.75,duration:.6},className:"mb-6",children:[(0,r.jsxs)("h3",{className:"font-urbanist text-lg md:text-2xl font-600 text-charcoal mb-3 flex items-center justify-center md:justify-start",children:[(0,r.jsx)(o.PY1.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,repeatDelay:4},className:"w-6 h-6 bg-gradient-to-br from-sage/20 to-sage/10 rounded-full flex items-center justify-center mr-3",children:(0,r.jsx)("ion-icon",{name:"pencil-outline",style:{color:"var(--sage)",fontSize:"16px"}})}),"Review Title (Optional)"]}),(0,r.jsx)(o.PY1.input,{type:"text",value:z,onChange:e=>C(e.target.value),placeholder:"Summarize your experience in a few words...",whileFocus:{scale:1.01},className:"w-full bg-white/80 backdrop-blur-sm border border-sage/20 rounded-xl md:rounded-2xl px-4 md:px-6 py-3 md:py-4 font-urbanist text-[14px] md:text-lg font-400 text-charcoal placeholder-charcoal/50 focus:outline-none focus:ring-2 focus:ring-sage/50 focus:border-sage transition-all duration-300 shadow-sm"})]}),(0,r.jsxs)(o.PY1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8,duration:.6},className:"mb-8",children:[(0,r.jsxs)("h3",{className:"font-urbanist text-lg md:text-3xl font-600 text-charcoal mb-3 md:mb-4 flex items-center justify-center md:justify-start",children:[(0,r.jsx)(o.PY1.div,{animate:{rotate:[0,-5,5,0]},transition:{duration:2,repeat:1/0,repeatDelay:5},className:"w-6 h-6 bg-gradient-to-br from-coral/20 to-coral/10 rounded-full flex items-center justify-center mr-3",children:(0,r.jsx)("ion-icon",{name:"create-outline",style:{color:"var(--coral)",fontSize:"16px"}})}),"Tell us about your experience"]}),(0,r.jsx)(o.PY1.textarea,{value:T,onChange:e=>Y(e.target.value),placeholder:"Share your thoughts and help other locals...",rows:4,whileFocus:{scale:1.02},className:"w-full bg-white/80 backdrop-blur-sm border border-sage/20 rounded-xl md:rounded-2xl px-4 md:px-6 py-3 md:py-4 font-urbanist text-[14px] md:text-xl font-400 text-charcoal placeholder-charcoal/50 focus:outline-none focus:ring-2 focus:ring-sage/50 focus:border-sage transition-all duration-300 resize-none shadow-sm flex-1 min-h-[120px] md:min-h-0"})]}),(0,r.jsxs)(o.PY1.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.85,duration:.6},className:"mb-8",children:[(0,r.jsxs)("h3",{className:"font-urbanist text-lg md:text-3xl font-600 text-charcoal mb-3 md:mb-4 flex items-center justify-center md:justify-start",children:[(0,r.jsx)(o.PY1.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:4},className:"w-6 h-6 bg-gradient-to-br from-sage/20 to-sage/10 rounded-full flex items-center justify-center mr-3",children:(0,r.jsx)("ion-icon",{name:"camera-outline",style:{color:"var(--sage)",fontSize:"16px"}})}),"Add Photos (Optional)"]}),(0,r.jsx)(y,{onImagesChange:F,maxImages:5,disabled:j})]}),(0,r.jsxs)(o.PY1.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9,duration:.6},whileHover:I&&!j?{scale:1.02,y:-2}:{},whileTap:I&&!j?{scale:.98}:{},onClick:D,className:"\n                    w-full py-4 md:py-5 px-6 md:px-8 rounded-xl md:rounded-2xl font-urbanist text-base md:text-2xl font-600 transition-all duration-300 relative overflow-hidden\n                    ".concat(I&&!j?"bg-gradient-to-r from-sage to-sage/90 text-white  focus:outline-none focus:ring-2 focus:ring-sage/50 focus:ring-offset-2 group":"bg-charcoal/20 text-charcoal/40 cursor-not-allowed","\n                  "),disabled:!I||j,children:[I&&!j&&(0,r.jsx)(o.PY1.div,{initial:{x:"-100%"},whileHover:{x:"100%"},transition:{duration:.6},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent -skew-x-12"}),(0,r.jsx)("span",{className:"relative z-10 flex items-center justify-center space-x-2",children:j?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.PY1.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full"}),(0,r.jsx)("span",{children:"Submitting..."})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"Submit Review"}),I&&(0,r.jsx)(o.PY1.div,{initial:{opacity:0},whileHover:{opacity:1},children:(0,r.jsx)("ion-icon",{name:"arrow-forward-outline"})})]})})]})]})]})})})}),(0,r.jsx)(b,{})]})}},4027:(e,t,a)=>{"use strict";a.d(t,{ToastProvider:()=>n,d:()=>o});var r=a(5155),i=a(2115);let s=(0,i.createContext)(void 0);function n(e){let{children:t}=e,[a,n]=(0,i.useState)([]),o=e=>{n(t=>t.filter(t=>t.id!==e))};return(0,r.jsxs)(s.Provider,{value:{showToast:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4e3,r=Date.now().toString(),i={id:r,message:e,type:t,duration:a};n(e=>[...e,i]),setTimeout(()=>{o(r)},a)},removeToast:o},children:[t,a.length>0&&(0,r.jsx)("div",{className:"fixed top-4 right-4 z-[9999] flex flex-col gap-2 pointer-events-none",children:a.map(e=>(0,r.jsx)("div",{className:"\n                pointer-events-auto max-w-sm w-full backdrop-blur-xl border rounded-xl p-4 shadow-2xl\n                transition-all duration-300 ease-out\n                ".concat((e=>{switch(e){case"success":return"bg-sage/95 border-sage/30 text-white";case"error":return"bg-red-500/95 border-red-400/30 text-white";case"warning":return"bg-amber-500/95 border-amber-400/30 text-white";default:return"bg-charcoal/95 border-charcoal/30 text-white"}})(e.type),"\n              "),children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("ion-icon",{name:(e=>{switch(e){case"success":return"checkmark-circle";case"error":return"close-circle";case"warning":return"warning";default:return"information-circle"}})(e.type),style:{fontSize:"24px"}})}),(0,r.jsx)("div",{className:"flex-1 min-w-0",children:(0,r.jsx)("p",{className:"font-urbanist text-sm font-600 leading-tight",children:e.message})}),(0,r.jsx)("button",{onClick:()=>o(e.id),className:"flex-shrink-0 ml-2 opacity-70 hover:opacity-100 transition-opacity duration-200",children:(0,r.jsx)("ion-icon",{name:"close",style:{fontSize:"20px"}})})]})},e.id))})]})}function o(){let e=(0,i.useContext)(s);if(void 0===e)throw Error("useToast must be used within a ToastProvider");return e}},9176:(e,t,a)=>{"use strict";a.d(t,{A:()=>l,AuthProvider:()=>o});var r=a(5155),i=a(2115),s=a(63);let n=(0,i.createContext)(void 0);function o(e){let{children:t}=e,[a,o]=(0,i.useState)(null),[l,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)(null),m=(0,s.useRouter)(),h=e=>({id:"dummy-user-id",email:e,onboardingStep:"interests",onboardingComplete:!1,interests:[],subInterests:[],subcategories:[],dealbreakers:[],createdAt:new Date().toISOString()});(0,i.useEffect)(()=>{c(!0),setTimeout(()=>{let e=localStorage.getItem("dummyUser");e&&o(JSON.parse(e)),c(!1)},100)},[]);let f=async(e,t)=>{if(c(!0),u(null),!(null==e?void 0:e.trim())||!(null==t?void 0:t.trim()))return u("Email and password are required"),c(!1),!1;await new Promise(e=>setTimeout(e,500));let a=h(e.trim().toLowerCase());return o(a),localStorage.setItem("dummyUser",JSON.stringify(a)),a.onboardingComplete?m.push("/home"):m.push("/".concat(a.onboardingStep)),c(!1),!0},x=async(e,t)=>{if(c(!0),u(null),!(null==e?void 0:e.trim())||!(null==t?void 0:t.trim()))return u("Email and password are required"),c(!1),!1;await new Promise(e=>setTimeout(e,500));let a=h(e.trim().toLowerCase());return o(a),localStorage.setItem("dummyUser",JSON.stringify(a)),m.push("/interests"),c(!1),!0},g=async()=>{c(!0),o(null),u(null),localStorage.removeItem("dummyUser"),m.push("/onboarding"),c(!1)},p=async e=>{if(!a)return;c(!0),u(null);let t={...a,...e};o(t),localStorage.setItem("dummyUser",JSON.stringify(t)),c(!1)};return(0,r.jsx)(n.Provider,{value:{user:a,login:f,register:x,logout:g,updateUser:p,isLoading:l,error:d},children:t})}function l(){let e=(0,i.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9843:(e,t,a)=>{Promise.resolve().then(a.bind(a,410))}},e=>{e.O(0,[96,913,441,358],()=>e(e.s=9843)),_N_E=e.O()}]);